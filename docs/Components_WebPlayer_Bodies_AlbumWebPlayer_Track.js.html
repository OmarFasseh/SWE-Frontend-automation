<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/WebPlayer/Bodies/AlbumWebPlayer/Track.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/WebPlayer/Bodies/AlbumWebPlayer/Track.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { Component } from "react";
import PropTypes from "prop-types";
import "./Track.css";
import Share from "./Share";
import { Link } from "react-router-dom";
import AddToPlaylist from "./AddToPlaylist/AddToPlaylist";

/**
 * Track class
 * @extends Component
 */
export class Track extends Component {
  state = {
    /**
     * Artist of the track
     * @memberof Track
     * @type {Array&lt;Object>}
     */
    artists: [],
    /**
     * Audio url of the track
     * @memberof Track
     * @type {String}
     */
    preview_url: "",
    /**
     * ID of the track
     * @memberof Track
     * @type {String}
     */
    id: "",
    /**
     * link of the track
     * @memberof Track
     * @type {Link}
     */
    href: "",
    /**
     * Name of the track
     * @memberof Track
     * @type {String}
     */
    name: "",
    /**
     * Duration of the track in milliseconds
     * @memberof Track
     * @type {Number}
     */
    duration_ms: Number,
    /**
     * Number of complete minutes of the track
     * @memberof Track
     * @type {Number}
     */
    minutes: 0,
    /**
     * Number of remaining seconds of the track
     * @memberof Track
     * @type {Number}
     */
    seconds: 0,
    track_number: Number,
  };

  componentDidMount() {
    console.log(this.props);
    this.props.track.artists.map((artist) =>
      this.setState({ artists: artist.name })
    );
    this.setState({
      duration_ms: this.props.track.durationMs,
      preview_url: this.props.track.preview_url,
      id: this.props.track._id,
      name: this.props.track.name,
      track_number: this.props.track.trackNumber,
      href: this.props.track.href,
    });
    this.millisToMinutesAndSeconds(this.props.track.durationMs);
  }

  /**
   * Converts duration of the song from milliseconds to minutes and seconds
   * @memberof Track
   * @param {Number} millis
   * @returns {void}
   */
  millisToMinutesAndSeconds(millis) {
    var minutes = Math.floor(millis / 60000);
    var seconds = ((millis % 60000) / 1000).toFixed(0);
    this.setState({
      minutes: minutes,
      seconds: seconds,
    });
  }

  render() {
    //console.log("id is:" ,this.state.id)
    return (
      &lt;div id="track-row-div" className="container-fluid">
        &lt;Share url={this.state.href} />
        &lt;AddToPlaylist trackId={this.state.id} />
        &lt;div
          className={
            this.props.playing_song_id === this.props.track._id
              ? "row w-100 playing-song"
              : "row w-100 not-playing-song"
          }
        >
          &lt;div className="track-symbol-div">
            &lt;i
              className={
                this.props.playing_song_id === this.props.track._id &amp;&amp;
                this.props.is_playing
                  ? "track-icon-playing"
                  : "track-icon"
              }
              onClick={this.props.setPlayingSondId.bind(
                this,
                this.state.id,
                this.state.preview_url,
                this.state.name,
                this.state.artists,
                this.state.minutes,
                this.state.seconds,
                this.state.track_number
              )}
            >&lt;/i>
          &lt;/div>
          &lt;div className="track-name-div">
            &lt;p className="track-name">{this.state.name}&lt;/p>
            &lt;p className="track-artist">{this.state.artists}&lt;/p>
          &lt;/div>

          {this.props.myAlbumArtist ? (
            &lt;Link
              to={{
                pathname: "/artist/edit-track",
                state: { trackId: this.state.id, albumId: this.props.albumId },
              }}
              className="mt-2 mr-2"
            >
              &lt;i className="fa fa-edit text-danger">&lt;/i>
            &lt;/Link>
          ) : null}

          {this.props.myAlbumArtist ? (
            &lt;Link
              className="mt-2 mr-2 ml-2"
              to={{
                pathname: "/artist/overview",
                state: { trackId: this.state.id, albumId: this.props.albumId },
              }}
            >
              &lt;i
                className="fa fa-bar-chart text-primary"
                aria-hidden="true"
              >&lt;/i>
            &lt;/Link>
          ) : null}

          &lt;div className="track-options-div dropdown show">
            &lt;strong
              className="track-options"
              id="trackdropdownMenuButton"
              data-toggle="dropdown"
            >&lt;/strong>
            &lt;div
              className="dropdown-menu"
              aria-labelledby="albumdropdownMenuLink"
            >
              &lt;li className="dropdown-item ">
                &lt;button
                  type="button"
                  id="create-playlist"
                  data-toggle="modal"
                  data-target="#AddSongToPlaylist"
                >
                  &lt;span className="list-item-text">Add to Playlist&lt;/span>
                &lt;/button>
              &lt;/li>

              &lt;li className="dropdown-item ">
                &lt;button
                  type="button"
                  id="create-playlist"
                  data-toggle="modal"
                  data-target="#share-static-back-drop"
                >
                  &lt;span className="list-item-text">Share Track&lt;/span>
                &lt;/button>
              &lt;/li>
            &lt;/div>
          &lt;/div>
          &lt;div className="track-duration-div">
            &lt;p>
              {this.state.minutes}:{this.state.seconds &lt; 10 ? "0" : ""}
              {this.state.seconds}
            &lt;/p>
          &lt;/div>
        &lt;/div>
      &lt;/div>
    );
  }
}

Track.propTypes = {
  track: PropTypes.object.isRequired,
};

export default Track;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccountHeading.html">AccountHeading</a></li><li><a href="AccountHelp.html">AccountHelp</a></li><li><a href="AccountOverview.html">AccountOverview</a></li><li><a href="AccountSettings.html">AccountSettings</a></li><li><a href="AddToPlaylist.html">AddToPlaylist</a></li><li><a href="Albums.html">Albums</a></li><li><a href="AlbumWebPlayer.html">AlbumWebPlayer</a></li><li><a href="ArtistHeading.html">ArtistHeading</a></li><li><a href="ArtistSelector.html">ArtistSelector</a></li><li><a href="ArtistSidebar.html">ArtistSidebar</a></li><li><a href="ArtistWebPlayer.html">ArtistWebPlayer</a></li><li><a href="ArtistWebPlayerNavBar.html">ArtistWebPlayerNavBar</a></li><li><a href="CanNotActivatePremiumTrial.html">CanNotActivatePremiumTrial</a></li><li><a href="CardComponent.html">CardComponent</a></li><li><a href="ChangeEmailAddress.html">ChangeEmailAddress</a></li><li><a href="ChangePassword.html">ChangePassword</a></li><li><a href="ConfigContextProvider.html">ConfigContextProvider</a></li><li><a href="CreateAlbum.html">CreateAlbum</a></li><li><a href="CreatePlaylist.html">CreatePlaylist</a></li><li><a href="DesktopNavbar.html">DesktopNavbar</a></li><li><a href="EditProfile.html">EditProfile</a></li><li><a href="EditTrack.html">EditTrack</a></li><li><a href="Footer.html">Footer</a></li><li><a href="HelpPage.html">HelpPage</a></li><li><a href="Home.html">Home</a></li><li><a href="HomeNavBar.html">HomeNavBar</a></li><li><a href="HowToLogOut.html">HowToLogOut</a></li><li><a href="LogIn.html">LogIn</a></li><li><a href="MainIndex.html">MainIndex</a></li><li><a href="MainSelector.html">MainSelector</a></li><li><a href="ManageProfile.html">ManageProfile</a></li><li><a href="Message.html">Message</a></li><li><a href="MobileNavbar.html">MobileNavbar</a></li><li><a href="module.exports.html">exports</a></li><li><a href="MyPlaylists.html">MyPlaylists</a></li><li><a href="Navbar.html">Navbar</a></li><li><a href="Overview.html">Overview</a></li><li><a href="PasswordReset.html">PasswordReset</a></li><li><a href="PlayingBar.html">PlayingBar</a></li><li><a href="PlaylistWebPlayer.html">PlaylistWebPlayer</a></li><li><a href="Premium.html">Premium</a></li><li><a href="PremiumCode.html">PremiumCode</a></li><li><a href="ProfileContextProvider.html">ProfileContextProvider</a></li><li><a href="ProfilePicture.html">ProfilePicture</a></li><li><a href="Progress.html">Progress</a></li><li><a href="RecentActivity.html">RecentActivity</a></li><li><a href="Search.html">Search</a></li><li><a href="SearchNavBar.html">SearchNavBar</a></li><li><a href="SideBar.html">SideBar</a></li><li><a href="SignUp.html">SignUp</a></li><li><a href="SpotifyAndFacebook.html">SpotifyAndFacebook</a></li><li><a href="Track.html">Track</a></li><li><a href="TracksList.html">TracksList</a></li><li><a href="TrackUpload.html">TrackUpload</a></li><li><a href="UpgradeArtist.html">UpgradeArtist</a></li><li><a href="YourLibrary.html">YourLibrary</a></li><li><a href="YourLibraryAlbums.html">YourLibraryAlbums</a></li><li><a href="YourLibraryArtists.html">YourLibraryArtists</a></li><li><a href="YourLibraryNavBar.html">YourLibraryNavBar</a></li><li><a href="YourLibraryPlaylists.html">YourLibraryPlaylists</a></li></ul><h3>Global</h3><ul><li><a href="global.html#checkValidity">checkValidity</a></li><li><a href="global.html#day">day</a></li><li><a href="global.html#description">description</a></li><li><a href="global.html#id">id</a></li><li><a href="global.html#image">image</a></li><li><a href="global.html#month">month</a></li><li><a href="global.html#time">time</a></li><li><a href="global.html#today">today</a></li><li><a href="global.html#year">year</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Tue Jun 09 2020 07:43:30 GMT+0200 (Eastern European Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
